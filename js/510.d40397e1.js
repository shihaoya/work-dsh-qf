"use strict";(self["webpackChunkwork_qianfeng"]=self["webpackChunkwork_qianfeng"]||[]).push([[510],{510:function(e,s,a){a.r(s),a.d(s,{default:function(){return d}});var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"login-box"},[a("van-form",{on:{submit:e.submitLogin}},[a("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",autocomplete:"off",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),a("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",loading:e.loading,"loading-text":"登录中..."}},[e._v(" 登录 ")])],1)],1)],1)},n=[],o=a(525),r={name:"Login",data(){return{username:"",password:"",loading:!1}},methods:{submitLogin(){this.loading=!0,(0,o.yq)({userName:this.username,password:this.password}).then((e=>{"success"===e.code?(this.$toast("用户登录成功，稍后跳转至首页"),localStorage.setItem("token",e.token),localStorage.setItem("username",this.username),this.$router.replace("/")):(this.$toast("账号或密码错误"),this.username=this.password="",this.loading=!1)})).catch((e=>{this.$toast.fail("未知错误，请稍后重试"),this.loading=!1}))}}},i=r,l=a(1001),u=(0,l.Z)(i,t,n,!1,null,"d9cb9cf0",null),d=u.exports}}]);
//# sourceMappingURL=510.d40397e1.js.map