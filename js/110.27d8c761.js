"use strict";(self["webpackChunkwork_qianfeng"]=self["webpackChunkwork_qianfeng"]||[]).push([[110],{110:function(e,s,t){t.r(s),t.d(s,{default:function(){return d}});var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"register-box"},[t("van-form",{on:{submit:e.submitRegister}},[t("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",autocomplete:"off",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),t("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),t("div",{staticStyle:{margin:"16px"}},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",loading:e.loading,"loading-text":"注册中..."}},[e._v("注册")])],1)],1)],1)},r=[],n=t(525),o={name:"Register",data(){return{username:"",password:"",loading:!1}},methods:{submitRegister(){this.loading=!0,(0,n.Mv)({userName:this.username,password:this.password}).then((e=>{"success"===e.code?(this.$toast("用户注册成功，等待稍后跳转至首页"),localStorage.setItem("token",e.token),localStorage.setItem("username",this.username),setTimeout((()=>{this.$router.replace("/")}),2e3)):(this.$toast(e.message),this.username=this.password="",this.loading=!1)})).catch((e=>{this.$toast.fail("未知错误，请稍后重试"),this.loading=!1}))}}},i=o,l=t(1001),u=(0,l.Z)(i,a,r,!1,null,"7d340eee",null),d=u.exports}}]);
//# sourceMappingURL=110.27d8c761.js.map